(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{209:function(t,n,e){"use strict";e.r(n),n.default=e.p+"assets/img/background-gnss.37a3090.png"},212:function(t,n,e){var s=e(223);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals),(0,e(2).default)("416721eb",s,!0,{})},213:function(t,n,e){var s=e(225);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals),(0,e(2).default)("2db9bc32",s,!0,{})},214:function(t,n,e){var s=e(227);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals),(0,e(2).default)("03880ec4",s,!0,{})},215:function(t,n,e){var s=e(229);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals),(0,e(2).default)("23733f50",s,!0,{})},222:function(t,n,e){"use strict";e(212)},223:function(t,n,e){(n=e(1)(!1)).push([t.i,"\n.gnss-file a.station-link {\n  line-height: 1;\n  text-decoration: none;\n  color: #337ab7;\n  cursor:pointer;\n}\n.gnss-file {\n  display: grid;\n  grid-template-columns: 10px minmax(120px,1fr) minmax(120px,0.8fr)  minmax(150px,1.2fr) minmax(100px,0.8fr) minmax(50px,0.3fr);\n  grid-gap: 5px;\n  grid-template-rows: 14px 30px; \n  /*grid-auto-rows: minmax(100px, auto);*/\n  font-size:0.8em;\n  \n  border-bottom:1px solid lightgrey;\n}\n.header.gnss-file {\n\n  background: #ddd;\n  font-weight:600;\n  color:black;\n  border-bottom:1px solid grey;\n}\n.gnss-file-title{\n  grid-column: 1/5;\n  grid-row: 1;\n  padding-left: 5px;\n  padding-top:5px;\n  font-size: 1em;\n  font-weight:600;\n  color: black;\n}\n.header .gnss-file-title {\n  grid-column: 1/3;\n  grid-row:1;\n}\n.gnss-file-1{\n  grid-column: 1;\n  grid-row: 2;\n}\n.gnss-file-2 {\n  grid-column: 2;\n  grid-row: 2;\n}\n.gnss-file-3-header {\n  grid-column: 3;\n  vertical-align: middle;\n  grid-row: 1/3;\n}\n.gnss-file-3-header > div {\n  line-height: 1.5;\n}\n.gnss-file-4-header {\n  grid-column: 4;\n  vertical-align: middle;\n  grid-row: 1/3;\n}\n.gnss-file-4-header > div {\n  line-height: 1.5;\n}\n.gnss-file-3 {\n  grid-column: 3;\n  grid-row: 2;\n}\n.gnss-file-4 {\n  grid-column: 4;\n  grid-row: 2;\n}\n.gnss-file-4-top {\n  grid-column: 4;\n  grid-row:1;\n}\n.gnss-file-4-bottom {\n  grid-column: 4;\n  grid-row:2;\n}\n.gnss-file-5 {\n  grid-column: 5;\n  grid-row: 2;\n}\n.gnss-file-6{\n  grid-column: 6;\n  grid-row: 2;\n}\n.gnss-file label {\n  font-weight: normal;\n  color: black;\n  line-height:1;\n  margin:0;\n}\n",""]),t.exports=n},224:function(t,n,e){"use strict";e(213)},225:function(t,n,e){(n=e(1)(!1)).push([t.i,"\n.gnss-paging span.mtdt-navigation span{\n  font-size: 1rem;\n  cursor: pointer;\n  margin: 0 1px;\n  padding:5px;\n cursor:pointer;\n border-radius:3px;\n /*background:#8c0209;*/\n background:grey;\n padding:3px 5px;\n color:white;\n  vertical-align:middle;\n  opacity:0.9;\n  line-height:1.2rem;\n}\n.gnss-paging span.mtdt-navigation.disabled span{\n  opacity:0.3;\n  cursor:not-allowed;\n}\n.gnss-paging span.mtdt-navigation:not(.disabled) span:hover{\n  opacity:1;\n}\n \n",""]),t.exports=n},226:function(t,n,e){"use strict";e(214)},227:function(t,n,e){(n=e(1)(!1)).push([t.i,"\ndiv.box-station {\n  display: inline-block;\noverflow: hidden;\npadding: 5px 20px 20px 20px;\nmargin:20px;\n border: 1px solid grey;\n border-radius: 10px;\n-webkit-box-shadow: 0 0 3px rgba(0,0,0,.5);\nbox-shadow: 0 0 3px rgba(0,0,0,.5);\n}\ndiv.box-station h3 {\n  margin-top: 10px;\n}\ndiv.box-station a.station-link {\n  margin: 5px;\n  line-height: 1.1;\n  text-decoration: none;\n  color: #000;\n  cursor:pointer;\n}\n\n",""]),t.exports=n},228:function(t,n,e){"use strict";e(215)},229:function(t,n,e){var s=e(1),i=e(9),o=e(209);n=s(!1);var r=i(o);n.push([t.i,"\ndiv.page-list[data-v-6d75966e] {\n  width:100%;\n  background: url("+r+") no-repeat center center fixed;\n  -webkit-background-size: cover;\n  -moz-background-size: cover;\n  -o-background-size: cover;\n  background-size: cover;\n}\ndiv.page-list div.form[data-v-6d75966e] {\n  top: 105px;\n}\ndiv.gnss-file[data-v-6d75966e]:nth-child(2n) {\n background: #eee;\n}\ndiv.station-content[data-v-6d75966e] {\n  background:white;\n  margin:auto;\n  max-width:1400px;\n  padding-bottom:20px;\n  box-shadow: 0 0 3px rgba(0,0,0,.5);\n}\ndiv.station-header[data-v-6d75966e] {\n  position:relative;\n  background: lightgrey;\n  margin: 0;\n  padding: 3px 5px;\n}\ndiv.station-body[data-v-6d75966e] {\n  padding: 3px 10px;\n}\ndiv.station-header h2[data-v-6d75966e] {\n  padding:0;\n  margin:5px;\n}\ndiv.array-list[data-v-6d75966e] {\n  border:1px solid grey;\n}\nspan.station-link[data-v-6d75966e] {\n  color: darkblue;\n  padding: 2px 3px;\n  cursor: pointer;\n  line-height:1.5rem;\n  border:1px dotted white;\n}\nspan.station-link[data-v-6d75966e]:hover {\n  border-color: grey;\n}\nspan.button.close[data-v-6d75966e] {\n  position: absolute;\n  right: 15px;\n  top:5px;\n  opacity:1;\n  border: 1px dotted transparent;\n}\nspan.button.close[data-v-6d75966e]:hover {\n  border-color:grey;\n}\nspan.gnss-sort[data-v-6d75966e]{\n  padding: 0 3px;\n  cursor: pointer;\n  border: 1px dotted transparent;\n}\nspan.gnss-sort.unactive[data-v-6d75966e] {\n  color: #555555;\n}\nspan.gnss-sort[data-v-6d75966e]:hover {\n  border-color: black;\n}\n",""]),t.exports=n},230:function(t,n,e){"use strict";e.r(n);var s,i=e(11),o=e(12),r=(e(0),{name:"FileRow",props:{file:{type:Object,default:null}},computed:{api:function(){return this.$store.getters.api}},methods:{goToStation:function(t){t.preventDefault(),t.stopPropagation();var n=Object.assign({},this.$route.query);this.$store.commit("setQuery",{name:"files",query:n}),delete(n=Object.assign({},this.$route.query)).network,delete n.several,this.$router.push({name:"station",params:{name:this.file.station,id:this.file.stationId},query:n})},toDateStr:function(t){return t.substring(0,10)}}}),a=(e(222),e(4)),l=Object(a.a)(r,(function(){var t=this,n=t._self._c;return n("div",{staticClass:"gnss-file"},[n("div",{staticClass:"gnss-file-title"},[t._v(t._s(t.file.name))]),t._v(" "),n("div",{staticClass:"gnss-file-1"}),t._v(" "),n("div",{staticClass:"gnss-file-2"},[n("div",[n("label",[t._v("Station")]),t._v(":   \n         "),n("a",{staticClass:"station-link",on:{click:function(n){return t.goToStation(n)}}},[t._v(t._s(t.file.station))])]),t._v(" "),t.file.networks?n("div",[n("label",[t._v("Networks")]),t._v(": "+t._s(t.file.networks.join(", ")))]):t._e()]),t._v(" "),n("div",{staticClass:"gnss-file-3"},[n("div",[n("label",[t._v("Solution")]),t._v(": "+t._s(t.file.solution))]),t._v(" "),n("div",[n("label",[t._v("ProductType")]),t._v(": "+t._s(t.file.productType))])]),t._v(" "),n("div",{staticClass:"gnss-file-4"},[n("div",[n("label",[t._v("Temporal")]),t._v(":  "+t._s(t.toDateStr(t.file.tempStart))+" → "+t._s(t.toDateStr(t.file.tempEnd)))]),t._v(" "),n("div",[n("label",[t._v("Years")]),t._v(": "+t._s(Math.round(t.file.years))),n("label",{staticStyle:{"margin-left":"20px"}},[t._v("FillRate")]),t._v(": "+t._s(Math.round(100*t.file.properties.fillRate).toLocaleString())+"%")])]),t._v(" "),n("div",{staticClass:"gnss-file-5"},[n("div",[n("label",[t._v("Productor")]),t._v(": "+t._s(t.file.properties.operator))]),t._v(" "),t.file.properties.refFrame?n("div",[n("label",[t._v("RefFrame")]),t._v(": "+t._s(t.file.properties.refFrame))]):t._e()]),t._v(" "),n("div",{staticClass:"gnss-file-6"},[n("div",[n("a",{attrs:{href:t.api+"files/"+t.file.name+"/download",download:t.file.name}},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-download"}})],1)])])])}),[],!1,null,null,null).exports,c={name:"GnssPaging",props:{page:{type:Number,default:1},maxRecords:{type:Number,default:25},totalResults:{type:Number,default:0},count:{type:Number,default:0},lang:{type:String,default:"en"},color:{type:String,default:"#808080"}},computed:{to:function(){return this.from+this.count-1},nbPage:function(){var t=parseInt(this.totalResults/this.recordPerPage);return t+=this.totalResults%this.recordPerPage>0?1:0,this.currentPage=parseInt(this.from/this.recordPerPage)+1,t},recordsPerPage:function(){var t={};return this.options.forEach((function(n){t[n]=n+" per page"})),t},defaultRecord:function(){return this.maxRecords}},watch:{page:function(t){this.from=(t-1)*this.maxRecords+1},maxRecords:function(t){this.recordPerPage=this.maxRecords}},created:function(){this.from=(this.page-1)*this.maxRecords+1,this.recordPerPage=this.maxRecords},mounted:function(){},destroyed:function(){},data:function(){return{from:1,currentPage:1,recordPerPage:this.maxRecords,notExactly:"",options:[10,25,50,100]}},methods:{goToFirst:function(){this.currentPage=1,this.emitChange()},goToLast:function(){console.log(this.nbPage),this.currentPage=this.nbPage,this.emitChange()},handleReset:function(t){this.currentPage=1},changePage:function(t){t<0&&1===this.currentPage||t>0&&this.currentPage===this.nbPage&&!this.notExactly||(this.currentPage+=t,this.emitChange())},nbRecordChange:function(t){this.emitChange()},emitChange:function(){this.$emit("change",{maxRecords:this.recordPerPage,page:this.currentPage})}}},d=(e(224),Object(a.a)(c,(function(){var t=this,n=t._self._c;return n("span",{staticClass:"gnss-paging"},[n("div",{staticStyle:{width:"100%",height:"33px","text-align":"center"}},[n("span",{class:{disabled:1===t.currentPage?"disabled":"","mtdt-navigation":!0}},[n("span",{style:{background:t.color},on:{click:function(n){return t.goToFirst()}}},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-angles-left"}})],1),t._v(" "),n("span",{style:{background:t.color},on:{click:function(n){return t.changePage(-1)}}},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-angle-left"}})],1)]),t._v(" "),n("span",{staticStyle:{margin:"0 10px"}},[t._v("\n Results: "+t._s(t.from)+" to "+t._s(t.to)+" among "+t._s(t.notExactly)+t._s(t.totalResults)+"\n ")]),t._v("\n  ("),n("select",{directives:[{name:"model",rawName:"v-model",value:t.recordPerPage,expression:"recordPerPage"}],on:{change:[function(n){var e=Array.prototype.filter.call(n.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.recordPerPage=n.target.multiple?e:e[0]},t.nbRecordChange]}},t._l(t.recordsPerPage,(function(e,s){return n("option",{domProps:{value:s}},[t._v(t._s(e))])})),0),t._v(")\n  "),n("span",{class:{disabled:t.notExactly||t.currentPage!==t.nbPage&&0!==t.count?"":"disabled","mtdt-navigation":!0}},[n("span",{style:{background:t.color},on:{click:function(n){return t.changePage(1)}}},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-angle-right"}})],1),t._v(" "),n("span",{style:{background:t.color},on:{click:function(n){return t.goToLast()}}},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-angles-right"}})],1)])])])}),[],!1,null,null,null)).exports;function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,n,e){return(n=function(t){var n=function(t,n){if("object"!==u(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var s=e.call(t,n);if("object"!==u(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"===u(n)?n:String(n)}(n))in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var p=(g(s={name:"FileList",components:{FileForm:i.a,FileRow:l,GnssMenu:o.a,GnssPaging:d},data:function(){return{}},computed:{api:function(){return this.$store.getters.api},defaultRequest:function(){return Object.assign({page:1,maxRecords:25,orderBy:"station ASC,solution ASC"},this.$store.getters.request)}},watch:{$route:function(t,n){this.treatmentQuery(t.query)}}},"data",(function(){return{files:[],sort:{station:"ASC",solution:"ASC",name:null,productType:null,productor:null,start:null,end:null,fill:null,years:null},pagination:{page:1,maxRecords:25},orderBy:[{name:"station",value:"ASC"},{name:"solution",value:"ASC"}]}})),g(s,"created",(function(){this.$route.query.page&&(this.pagination.page=parseInt(this.$route.query.page)),this.$route.query.maxRecords&&(this.pagination.maxRecords=parseInt(this.$route.query.maxRecords)),this.treatmentQuery(this.$route.query)})),g(s,"destroyed",(function(){})),g(s,"methods",{changeSort:function(t){var n=this.orderBy.findIndex((function(n){return n.name===t}));n>=0?(this.orderBy[n].value="ASC"===this.orderBy[n].value?"DESC":"ASC",1==n&&(this.orderBy=this.orderBy.reverse())):(this.orderBy.pop(),this.orderBy.unshift({name:t,value:"ASC"}));var e=this.orderBy.map((function(t){return t.name+" "+t.value})).join(","),s=Object.assign({},this.$route.query);s.orderBy=e,this.$router.push({name:"files",query:s})},display:function(t){this.files=t.files,this.pagination.tot=t.query.tot,this.pagination.page=t.query.page,this.pagination.maxRecords=t.query.maxRecords},paginationChange:function(t){var n=Object.assign({},this.$route.query);n.page=t.page,n.maxRecords=t.maxRecords,this.$router.push({name:this.$route.name,query:n})},treatmentQuery:function(t){var n=this;this.api||alert("Pas de service SensorThings!");var e=this.api+"files/",s=Object.assign({},this.defaultRequest);if(t.orderBy){var i=t.orderBy.split(/\s*,\s*/),o={};for(var r in this.orderBy=[],i.forEach((function(t){console.log(t);var n=t.split(/\s+/);o[n[0]]=n[1].toUpperCase()})),this.sort)o[r]?(this.sort[r]=o[r],this.orderBy.push({name:r,value:o[r]})):this.sort[r]=null}s=Object.assign({},this.defaultRequest),s=Object.assign(s,t),this.$http.get(e,{params:s}).then((function(t){n.display(t.body)}),(function(t){alert("Erreur de chargement: "+t.status)}))},close:function(t){console.log(t),this.$router.push({name:"home",query:this.$store.state.queryList})}}),s),f=(e(226),e(228),Object(a.a)(p,(function(){var t=this,n=t._self._c;return n("div",{staticClass:"page-list",staticStyle:{width:"100%",position:"relative",overflow:"hidden"}},[n("file-form",{attrs:{mode:"map"}}),t._v(" "),n("gnss-menu",{attrs:{top:55}}),t._v(" "),n("div",{staticClass:"station-content"},[n("div",{staticClass:"station-header"},[n("span",{staticClass:"close button",staticStyle:{"margin-right":"20px"},on:{click:function(n){return t.close(n)}}},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-close"}})],1),t._v(" "),n("h2",[t._v("List of files")])]),t._v(" "),n("div",{staticClass:"station-body",staticStyle:{"min-height":"calc(100vh - 70px)"}},[n("div",[n("gnss-paging",{attrs:{color:"#b8412c",page:t.pagination.page,"max-records":t.pagination.maxRecords,count:t.files.length,"total-results":t.pagination.tot},on:{change:t.paginationChange}})],1),t._v(" "),n("div",{staticClass:"array-list"},[n("div",{staticClass:"gnss-file header"},[n("div",{staticClass:"gnss-file-title"},[t._v("Name  \n\t       "),n("span",{staticClass:"gnss-sort",class:{unactive:!t.sort.name},on:{click:function(n){return t.changeSort("name")}}},[t._v(t._s("DESC"===t.sort.name?"↑":"↓"))])]),t._v(" "),n("div",{staticClass:"gnss-file-2"},[t._v("Station \n\t        "),n("span",{staticClass:"gnss-sort",class:{unactive:!t.sort.station},on:{click:function(n){return t.changeSort("station")}}},[t._v(t._s("DESC"===t.sort.station?"↑":"↓"))])]),t._v(" "),n("div",{staticClass:"gnss-file-3-header"},[n("div",{staticStyle:{"margin-top":"5px"}},[t._v("Solution \n\t         "),n("span",{staticClass:"gnss-sort",class:{unactive:!t.sort.solution},on:{click:function(n){return t.changeSort("solution")}}},[t._v(t._s("DESC"===t.sort.solution?"↑":"↓"))])]),t._v(" "),n("div",[t._v("ProductType\n\t          "),n("span",{staticClass:"gnss-sort",class:{unactive:!t.sort.productType},on:{click:function(n){return t.changeSort("productType")}}},[t._v(t._s("DESC"===t.sort.productType?"↑":"↓"))])])]),t._v(" "),n("div",{staticClass:"gnss-file-4-header"},[n("div",{staticStyle:{"margin-top":"5px"}},[t._v("Start\n\t        "),n("span",{staticClass:"gnss-sort",class:{unactive:!t.sort.start},on:{click:function(n){return t.changeSort("start")}}},[t._v(t._s("DEC"===t.sort.start?"↑":"↓"))]),t._v("\n           End  "),n("span",{staticClass:"gnss-sort",class:{unactive:!t.sort.end},on:{click:function(n){return t.changeSort("end")}}},[t._v(t._s("DESC"===t.sort.end?"↑":"↓"))])]),t._v(" "),n("div",[t._v("\n\t          Years"),n("span",{staticClass:"gnss-sort",class:{unactive:!t.sort.years},on:{click:function(n){return t.changeSort("years")}}},[t._v(t._s("DESC"===t.sort.years?"↑":"↓"))]),t._v("\n            FillRate"),n("span",{staticClass:"gnss-sort",class:{unactive:!t.sort.fill},on:{click:function(n){return t.changeSort("fill")}}},[t._v(t._s("DESC"===t.sort.fill?"↑":"↓"))])])]),t._v(" "),n("div",{staticClass:"gnss-file-5"},[t._v("Productor\n\t       "),n("span",{staticClass:"gnss-sort",class:{unactive:!t.sort.productor},on:{click:function(n){return t.changeSort("productor")}}},[t._v(t._s("DESC"===t.sort.productor?"↑":"↓"))])])]),t._v(" "),n("div",{staticStyle:{"max-height":"calc(100vh - 140px)","overflow-y":"scroll"}},t._l(t.files,(function(t,e){return n("file-row",{key:e,attrs:{file:t}})})),1)])])])],1)}),[],!1,null,"6d75966e",null));n.default=f.exports}}]);
//# sourceMappingURL=1.gnss-components-vjs.js.map